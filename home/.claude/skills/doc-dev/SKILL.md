# 開発者ガイド 作成・更新

現在の作業コンテキストに基づき、開発者向けガイドを作成・更新する。
`/doc` から委譲された場合も、直接呼び出された場合もこのファイルの手順に従う。

## ステップ1: ディレクトリ準備と既存ファイルの確認

```bash
# 配置先ディレクトリの存在確認。なければ作成する
ls docs/60_dev/ 2>/dev/null || mkdir -p docs/60_dev/

# 既存ファイルを確認（更新対象か新規作成かを判断）
ls docs/60_dev/
```

既存ファイルが対象内容をカバーしている場合は**新規作成せず更新**する。

## ステップ2: 開発者ガイドの作成・更新

以下の品質原則を制約として守りながら作成する。

| 原則 | 内容 |
|------|------|
| Single Purpose | 開発者向けの操作手順のみを記述する（ローカル開発・テスト・ブランチ戦略・リリース等） |
| ADR-Based Decisions | ブランチ戦略やリリースプロセスに関する設計判断が ADR に記録されているか確認する |
| Single Source of Truth | 本番運用手順は `docs/50_runbook/` に委ねる。ここは開発フローに絞る |
| Template-Driven Creation | 以下のテンプレートに沿って作成し、実際の内容で埋める |
| シークレット不在 | 環境変数・パスワード・トークン等をリポジトリに記載しない |

**ファイル名**: `docs/60_dev/<topic>.md`（kebab-case）

一般的なファイル名の例:
- `docs/60_dev/setup.md` — ローカル開発環境セットアップ
- `docs/60_dev/testing.md` — テスト実行・戦略
- `docs/60_dev/branching.md` — ブランチ戦略
- `docs/60_dev/release.md` — リリース手順

**テンプレート**:
```markdown
# <トピック名> 開発者ガイド

## 概要

（このガイドが対象とするトピックを1〜2行で記述）

## 前提

- （必要なツール・権限・事前条件を箇条書き）

## 手順

### 1) <ステップ名>

```bash
# コマンド例
```

（補足説明があれば記述）

### 2) <ステップ名>

...

## よくある問題

| 問題 | 原因 | 解決策 |
|------|------|--------|
| ... | ... | ... |
```

## ステップ3: 品質自己チェック

| チェック項目 | 確認内容 |
|-------------|---------|
| Single Purpose | 開発フロー手順のみで、本番運用・要件・設計が混在していないか |
| ADR-Based Decisions | ブランチ戦略・リリースプロセスの設計判断が必要なら ADR が存在するか |
| Single Source of Truth | 本番運用手順は runbook に委ねており、重複記述していないか |
| Template-Driven | テンプレート構成に沿い、プレースホルダーが残っていないか |
| 配置先ディレクトリ | `docs/60_dev/` に配置されているか |
| 命名規則 | kebab-case か |
| シークレット不在 | 機密情報・ローカル認証情報が含まれていないか |
| Mermaid 形式 | 図がある場合、画像ファイルではなく Mermaid で記述されているか |

チェック結果は「✅ 全項目パス」または「⚠️ 修正済み（修正内容）」と明記する。

## ステップ4: 報告

- 作成・更新したファイルのパスをユーザーに報告する
- ステップ3のチェック結果を報告する

## 注意事項

- 本番環境の操作手順は `docs/50_runbook/` へ。開発者ガイドは開発フローに限定する
- 作成するドキュメントは現在の作業コンテキストに即した具体的な内容にする（テンプレートをそのまま出力しない）
